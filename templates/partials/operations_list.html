{{ define "operations_list.html" }}
<div class="table-container">
    <table class="table">
        <thead>
            <tr>
                <th>ID</th>
                <th>–¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏</th>
                <th>–ê–≤—Ç–æ–º–∞—Ç</th>
                <th>–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å</th>
                <th>–î–∞—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏</th>
                <th>–ò–≥—Ä—É—à–∫–∏ –¥–æ/–ø–æ—Å–ª–µ</th>
                <th>–î–æ–±–∞–≤–ª–µ–Ω–æ</th>
                <th>–ù–∞–ª–∏—á–Ω—ã–µ –¥–æ/–ø–æ—Å–ª–µ</th>
                <th>–°–æ–±—Ä–∞–Ω–æ</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>
        <tbody>
            {{range .Operations}}
            <tr>
                <td>{{.ID}}</td>
                <td>
                    <span class="status-badge 
                        {{if eq .OperationType "restock"}}operation-restock
                        {{else if eq .OperationType "collection"}}operation-collection
                        {{else}}operation-maintenance{{end}}">
                        {{if eq .OperationType "restock"}}–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
                        {{else if eq .OperationType "collection"}}–ò–Ω–∫–∞—Å—Å–∞—Ü–∏—è
                        {{else}}–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ{{end}}
                    </span>
                </td>
                <td>{{.MachineSerial}}</td>
                <td>{{.PerformerName}}</td>
                <td>{{.OperationDate.Format "02.01.2006 15:04"}}</td>
                <td>{{.ToysBefore}} ‚Üí {{.ToysAfter}}</td>
                <td>{{.ToysAdded}}</td>
                <td>{{printf "%.2f" .CashBefore}}‚ÇΩ ‚Üí {{printf "%.2f" .CashAfter}}‚ÇΩ</td>
                <td>{{printf "%.2f" .CashCollected}}‚ÇΩ</td>
                <td>
                    <div style="display: flex; gap: 0.5rem;">
                        <button class="btn btn-primary" 
                                hx-get="/operations/form?id={{.ID}}"
                                hx-target="#modal-body"
                                onclick="showModal()">
                            ‚úèÔ∏è
                        </button>
                        <button class="btn btn-danger" 
                                hx-delete="/operations/delete?id={{.ID}}"
                                hx-target="#operations-table"
                                hx-confirm="–£–¥–∞–ª–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é?">
                            üóëÔ∏è
                        </button>
                    </div>
                </td>
            </tr>
            {{else}}
            <tr>
                <td colspan="10" style="text-align: center; padding: 2rem; color: var(--secondary);">
                    –ù–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–π. 
                    <button class="btn btn-primary" 
                            hx-get="/operations/form" 
                            hx-target="#modal-body"
                            onclick="showModal()">
                        ‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–≤—É—é –æ–ø–µ—Ä–∞—Ü–∏—é
                    </button>
                </td>
            </tr>
            {{end}}
        </tbody>
    </table>
</div>
{{ end }}